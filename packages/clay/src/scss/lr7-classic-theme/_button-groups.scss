%button-box {
	content: '';
	height: 100%;
	left: 0;
	position: absolute;
	top: 0;
	width: 100%;
	z-index: -1;
}

.btn-group {
	.btn + .btn, .btn + .btn-group, .btn-group + .btn, .btn-group + .btn-group {
		margin-left: 1px;
	}
}

.btn-group.open .dropdown-toggle {
	@include box-shadow(none);
}

.btn-toolbar {
	.btn-group {
		border: solid transparent;
		z-index: 1;
	}

	> .btn-group-vertical {
		margin-left: 5px;
	}
}

.btn-group-justified {
	border-spacing: 1px;
}

.btn-group,
.btn-group-vertical {
	> .btn {
		&:hover, &:focus, &:active, &.active {
			z-index: auto;
		}
	}
}

.btn-group-vertical {
	> .btn + .btn, > .btn + .btn-group, > .btn-group + .btn, > .btn-group + .btn-group {
		margin-top: 1px;
	}
}

.shadows {
	&.btn-toolbar, .btn-toolbar {
		.btn-group {
			> .btn:before {
				@include box-shadow($btn-group-toolbar-box-shadow);

				@extend %button-box;
			}
		}
	}

	&.btn-group-justified, .btn-group-justified {
		> .btn, > .btn-group {
			> .btn:before {
				@include box-shadow($btn-group-box-shadow);

				@extend %button-box;
			}
		}

		> a.btn:before {
			@include box-shadow($btn-group-box-shadow);

			@extend %button-box;
		}
	}

	&.btn-group-vertical, .btn-group-vertical {
		> .btn, > .btn-group {
			@include box-shadow($btn-group-vertical-box-shadow);
		}
	}
}