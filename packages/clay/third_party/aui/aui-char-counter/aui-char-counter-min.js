YUI.add("aui-char-counter",function(e,t){var n=e.Lang,r=n.isNumber,i=e.Component.create({NAME:"char-counter",ATTRS:{counter:{setter:e.one},maxLength:{lazyAdd:!1,setter:function(e){return this._setMaxLength(e)},value:Infinity,validator:r},input:{setter:e.one}},EXTENDS:e.Base,prototype:{handler:null,initializer:function(){var e=this;e.bindUI(),e.checkLength()},bindUI:function(){var t=this,n=t.get("input");t.publish("maxLength"),t.after("maxLengthChange",t.checkLength),n&&(t.handler=n.on("input",e.bind(t._onInputChange,t)))},syncUI:function(){var e=this,t=e.get("counter");if(t){var n=e.get("input").val();t.html(e.get("maxLength")-n.length)}},destroy:function(){var e=this;e.handler&&e.handler.detach()},checkLength:function(){var e=this,t=e.get("input"),n=e.get("maxLength");if(!t)return!1;var r=t.val(),i=t.get("scrollTop"),s=t.get("scrollLeft");r.length>n&&t.val(r.substring(0,n)),r.length===n&&e.fire("maxLength"),t.set("scrollTop",i),t.set("scrollLeft",s),e.syncUI()},_onInputChange:function(){var e=this;e.checkLength()},_setMaxLength:function(e){var t=this,n=t.get("input");return n&&e<Infinity&&n.set("maxLength",e),e}}});e.CharCounter=i},"2.5.0",{requires:["aui-node","aui-event-input","aui-component"]});
